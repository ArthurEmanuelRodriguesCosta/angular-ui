

<div class="container formLine">
	<div class="container-tab">
		<div class = "tab-content">
			<h1>Novo Questionário</h1>
			<p>Caro Professor, este é o local de criar seu questionário.</p>
			<form class="form" role="form">
				<table class="table" ng-show="questions.length > 0">
					<thead class="thead-inverse">
						<tr class="text-left">
							<th></th>
							<th>Questões</th>
							<th>Tipo</th>
							<th>Editar</th>
						</tr>
					</thead>
						<!--ng-repeat-->
						<tr ng-class="{selected: question.selected}" ng-repeat="question in questions">
							<td><input type="checkbox" ng-model="question.selected"/></td>
							<th>{{ question.message }}</th>
							<th>{{ question.type }}</th>
							<th><button ng-click = "enableEditQuestion(question)" type="button" class="btn btn-link" data-toggle="modal" data-target="#editModal"><i class="fa fa-pencil-square-o"></button></th>	
						</tr>
					
				</table>
				</hr>

				<!--MODAL-->

				<div class="modal fade" id="editModal" tabindex="-1" role="dialog" aria-labelledby="editModalLabel">
					<div class="modal-dialog" role="document">
						<div class="modal-content">
							<div class="modal-header">
								<button type="button" class="close" data-dismiss="modal" aria-label="Cancelar"><span aria-hidden="true">&times;</span></button>
								<h4 id="editModalLabel">Editar questão</h4>

							</div>
							<div class="modal-body">
								<form>
								<div class="form-group">
								<label for="recipient-name" class="control-label">Questão atual</label>
								<div class="alert alert-info" role="alert">{{questionBeEdit.message}}</div>

								</div>
								<div class="form-group">
								<label for="message-text" class="control-label">Nova questão:</label>
								<textarea class="form-control" id="message-text"></textarea>
								</div>
								</form>
							</div>
							<div class="modal-footer">
								<button type="button" class="btn btn-default" data-dismiss="modal">Cancelar</button>
								<button type="button" class="btn btn-primary">Concluir edição</button>
							</div>
						</div>
					</div>
				</div>
				<!--END MODAL-->


				<!--place the input fields-->
				<input class = "form-control" type = "text" ng-model = "question.message" placeholder = "Questão"/>
				<select class = "form-control" ng-model="question.type" ng-options = "type for type in types">
					 <option value = "">Selecione um tipo de questão</option>
				</select>
				<!--pass as parameter message and the type of question-->
				<div class="bottomAdd" style="text-align: center;">
					<button class = "btn btn-primary btn-block" ng-click = "addQuestion(question)" ng-disabled = "!question.message || !question.type">
						Adicionar Questão
					</button> 
					<button class = "btn btn-danger btn-block" ng-click = "deleteQuestion(questions)" ng-show="isQuestionSelected(questions)">
						    Apagar Questão
					</button>
				</div>	

			</form>
		</div>	
	</div>
</div>	

<script>
$('#editModal').on('show.bs.modal', function (event) {
  var button = $(event.relatedTarget) // Button that triggered the modal
  var recipient = button.data('whatever') // Extract info from data-* attributes
  // If necessary, you could initiate an AJAX request here (and then do the updating in a callback).
  // Update the modal's content. We'll use jQuery here, but you could use a data binding library or other methods instead.
})
</script>